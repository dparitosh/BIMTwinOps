# =============================================================================
# SMART_BIM Backend Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# All configuration is centralized here - no hardcoding in source files.
# =============================================================================

# -----------------------------------------------------------------------------
# Neo4j Database Connection (REQUIRED)
# -----------------------------------------------------------------------------
NEO4J_URI=neo4j://127.0.0.1:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=<your-neo4j-password>
NEO4J_DATABASE=smartbim

# -----------------------------------------------------------------------------
# Google Gemini API (required for /chat endpoint)
# Get your API key at: https://makersuite.google.com/app/apikey
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=<your-google-api-key>

# -----------------------------------------------------------------------------
# Local LLM (Ollama) (optional, recommended for agent features)
# -----------------------------------------------------------------------------
LLM_PROVIDER=ollama
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:1b

# -----------------------------------------------------------------------------
# Backend API Server (optional)
# -----------------------------------------------------------------------------
BACKEND_HOST=127.0.0.1
BACKEND_PORT=8000

# =============================================================================
# APS (Autodesk Platform Services) Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# APS Credentials (REQUIRED for APS features)
# Create an app at: https://aps.autodesk.com/myapps
# -----------------------------------------------------------------------------
APS_CLIENT_ID=<your-aps-client-id>
APS_CLIENT_SECRET=<your-aps-client-secret>

# -----------------------------------------------------------------------------
# APS Scopes
# -----------------------------------------------------------------------------
APS_SCOPES=data:read
APS_OAUTH_SCOPES=data:read viewables:read

# -----------------------------------------------------------------------------
# 3-Legged OAuth (for ACC/BIM360 workflows)
# Must match callback URL configured in your APS app
# -----------------------------------------------------------------------------
APS_CALLBACK_URL=http://127.0.0.1:3001/aps/oauth/callback

# -----------------------------------------------------------------------------
# CORS Origins (allowed frontends)
# -----------------------------------------------------------------------------
APS_CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# -----------------------------------------------------------------------------
# Session/Token Storage
# Options: "memory" or "redis"
# -----------------------------------------------------------------------------
APS_STORE=memory
REDIS_URL=redis://127.0.0.1:6379
APS_SESSION_TTL_SECONDS=86400

# -----------------------------------------------------------------------------
# OSS/Model Derivative Settings
# -----------------------------------------------------------------------------
APS_BUCKET_KEY=smartbim-demo-bucket
APS_OSS_REGION=US

# -----------------------------------------------------------------------------
# APS Service Port
# -----------------------------------------------------------------------------
APS_SERVICE_PORT=3001

# -----------------------------------------------------------------------------
# Frontend Hosting Mode
# - proxy: forward to Vite dev server (development)
# - static: serve from dist folder (production)
# -----------------------------------------------------------------------------
FRONTEND_MODE=proxy
FRONTEND_DEV_URL=http://localhost:5173
FRONTEND_DIST_DIR=../../pointcloud-frontend/dist
